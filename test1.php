<table style="width: 656px;">
<tbody>
<tr>
<td id="artContent" style="max-width: 656px">
<div style="width: 656px; margin: 0; padding: 0; height: 0;"></div>
<p>目 录</p>
<p></p><div><div>
<ul>
<li><a target="">前言</a></li>
<li><a target="">设计功能</a><ul>
<li><a target="">使用场景模拟</a><ul>
<li><a target="">快速开发表单</a></li>
<li><a target="">表单使用</a></li>
</ul>
</li>
<li><a target="">主要功能</a><ul>
<li><a target="">表单设计器功能</a></li>
<li><a target="">其他相关功能</a></li>
</ul>
</li>
<li><a target="">数据存储设计</a></li>
</ul>
</li>
<li><a target="">Demo界面及功能</a><ul>
<li><a target="">表单设计器</a><ul>
<li><a target="">表单设计器功能界面整体原型</a></li>
<li><a target="">定义数据项目</a></li>
<li><a target="">表单字段属性定义</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<p>
</p><h1><a name="t0" target="_blank"></a>前言</h1>
<p>原办公业务流程平台审批单使用业务数据（横向）表纵向存储的思路，所有流程所使用的业务表单的数据都存在一张物理表中，表中每条数据记录包含列的（Column）定义和值（Value），列（Column）所对应的字段信息，通过定义表来定义。这种设计需要使用代码进行数据组装，比较繁琐。当表单内容较大时，界面展现速度较慢，而且此方案很难支撑查询统计需求。</p>
<p>为了满足用户可自定义快速开发流程表单的需求，并解决上述方案的不足，采用NoSQL技术来优化设计，因为NoSQL无需事先为要存储的数据建立字段，随时可以存储自定义的数据格式。按NoSQL的特性，可以灵活进行schema结构（列的定义）的修改，理论上应该可以很好支持这些动态表单的持久化保存。</p>
<p>基于上述文档<a href="http://lib.csdn.net/base/mysql" title="MySQL知识库" target="_blank" style="color:#df3434; font-weight:bold;">数据库</a>管理思路，采用审批单（表单）模版，以及NoSQL与关系型数据库相结合的方案，设计目标如下：</p>
<ul>
<li>使用用户化工具设计审批单（模版）</li>
<li>按规范规则，定义审批单关键数据项，例如如下统一命名关键数据项，标题、部门、关键数值（例如统计、流程流转规则所需要的）、时间等</li>
<li>审批单（模版）通过业务信息管理进行版本化管理</li>
<li>审批单数据存储分为两部分：一是关键字段内容，随同流程数据存储到关系型数据库中；整个表单（含HTML、CSS、JavaScript、图标等）连同数据内容，以文档整体对象存储到NoSQL数据库中</li>
<li>审批单上所涉及到的CSS、JS、图标等资源性文件，需要进行版本管理（在数据库中只保存他们的URL）；</li>
</ul>
<blockquote>
<p>注：“模版”为管理概念，通过业务信息管理上线使用的表单可以定义为模版，依赖业务信息进行版本管理。</p>
</blockquote>
<h1><a name="t1" target="_blank"></a>设计功能</h1>
<h2><a name="t2" target="_blank"></a>使用场景模拟</h2>
<h3><a name="t3" target="_blank"></a>1.快速开发表单</h3>
<div><svg height="305" version="1.1" width="601.25" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="position: relative; top: -0.4375px;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Raphaël 2.1.2</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><marker markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker></defs><rect x="10" y="20" width="80" height="35" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="20" y="30" width="60" height="15" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="50" y="37.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">运维人员</tspan></text><rect x="10" y="250" width="80" height="35" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="20" y="260" width="60" height="15" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="50" y="267.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">运维人员</tspan></text><path fill="none" stroke="#000000" d="M50,55L50,250" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="172.5" y="20" width="95" height="35" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="182.5" y="30" width="75" height="15" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="220" y="37.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">表单设计器</tspan></text><rect x="172.5" y="250" width="95" height="35" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="182.5" y="260" width="75" height="15" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="220" y="267.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">表单设计器</tspan></text><path fill="none" stroke="#000000" d="M220,55L220,250" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="368.75" y="20" width="72.5" height="35" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="378.75" y="30" width="52.5" height="15" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="405" y="37.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">MongoDB</tspan></text><rect x="368.75" y="250" width="72.5" height="35" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="378.75" y="260" width="52.5" height="15" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="405" y="267.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">MongoDB</tspan></text><path fill="none" stroke="#000000" d="M405,55L405,250" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="461.25" y="20" width="110" height="35" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="471.25" y="30" width="90" height="15" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="516.25" y="37.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">表单信息管理</tspan></text><rect x="461.25" y="250" width="110" height="35" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="471.25" y="260" width="90" height="15" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="516.25" y="267.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">表单信息管理</tspan></text><path fill="none" stroke="#000000" d="M516.25,55L516.25,250" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="60" y="72.5" width="150" height="15" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="135" y="80" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">1.按需求绘制表单（）</tspan></text><path fill="none" stroke="#000000" d="M50,90C50,90,186.9241428375244,90,215.0042893178761,90" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj39)" stroke-dasharray="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="60" y="107.5" width="150" height="15" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="135" y="115" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">2.定义表单数据项（）</tspan></text><path fill="none" stroke="#000000" d="M50,125C50,125,186.9241428375244,125,215.0042893178761,125" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj42)" stroke-dasharray="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="67.5" y="142.5" width="135" height="15" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="135" y="150" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">3.生成HTML文档（）</tspan></text><path fill="none" stroke="#000000" d="M50,160C50,160,186.9241428375244,160,215.0042893178761,160" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj45)" stroke-dasharray="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="230" y="177.5" width="165" height="15" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="312.5" y="185" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">4.保存文档到数据集（）</tspan></text><path fill="none" stroke="#000000" d="M220,195C220,195,370.4685080051422,195,400.0038303772453,195" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj48)" stroke-dasharray="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="200.625" y="212.5" width="165" height="15" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="283.125" y="220" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">5.发布开发完成表单（）</tspan></text><path fill="none" stroke="#000000" d="M50,230C50,230,461.07163339853287,230,511.2512761473772,230" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj51)" stroke-dasharray="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path></svg></div>
<h3><a name="t4" target="_blank"></a>2.表单使用</h3>
<div><svg height="489" version="1.1" width="743.4375" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="position: relative; top: -0.21875px;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Raphaël 2.1.2</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><marker markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker></defs><rect x="10" y="20" width="80" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="20" y="30" width="60" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="50" y="39.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">运维人员</tspan></text><rect x="10" y="430" width="80" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="20" y="440" width="60" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="50" y="449.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">运维人员</tspan></text><path fill="none" stroke="#000000" d="M50,59L50,430" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="176.21875" y="20" width="110" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="186.21875" y="30" width="90" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="231.21875" y="39.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">业务信息管理</tspan></text><rect x="176.21875" y="430" width="110" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="186.21875" y="440" width="90" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="231.21875" y="449.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">业务信息管理</tspan></text><path fill="none" stroke="#000000" d="M231.21875,59L231.21875,430" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="357.4375" y="20" width="110" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="367.4375" y="30" width="90" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="412.4375" y="39.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">表单信息管理</tspan></text><rect x="357.4375" y="430" width="110" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="367.4375" y="440" width="90" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="412.4375" y="449.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">表单信息管理</tspan></text><path fill="none" stroke="#000000" d="M412.4375,59L412.4375,430" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="487.4375" y="20" width="125" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="497.4375" y="30" width="105" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="549.9375" y="39.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">流程等其他环节</tspan></text><rect x="487.4375" y="430" width="125" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="497.4375" y="440" width="105" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="549.9375" y="449.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">流程等其他环节</tspan></text><path fill="none" stroke="#000000" d="M549.9375,59L549.9375,430" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="632.4375" y="20" width="81" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="642.4375" y="30" width="61" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="672.9375" y="39.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">MongoDB</tspan></text><rect x="632.4375" y="430" width="81" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="642.4375" y="440" width="61" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="672.9375" y="449.5" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">MongoDB</tspan></text><path fill="none" stroke="#000000" d="M672.9375,59L672.9375,430" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="90" y="74.5" width="101.21875" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="140.609375" y="84" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">1.新建业务（）</tspan></text><path fill="none" stroke="#000000" d="M50,98C50,98,197.0341664548032,98,226.21843826333713,98" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj331)" stroke-dasharray="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="90" y="113.5" width="101.21875" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="140.609375" y="123" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">2.添加表单（）</tspan></text><path fill="none" stroke="#000000" d="M50,137C50,137,197.0341664548032,137,226.21843826333713,137" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj334)" stroke-dasharray="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="256.21875" y="152.5" width="131.21875" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="321.828125" y="162" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">3.展现表单列表（）</tspan></text><path fill="none" stroke="#000000" d="M231.21875,176C231.21875,176,378.2529164548032,176,407.43718826333713,176" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj337)" stroke-dasharray="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="180.609375" y="191.5" width="101.21875" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="231.21875" y="201" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">4.选择表单（）</tspan></text><path fill="none" stroke="#000000" d="M50,215C50,215,363.83767544385046,215,407.43475486952207,215" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj340)" stroke-dasharray="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="260.65625" y="230.5" width="78.625" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="299.96875" y="240" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">5.略......（）</tspan></text><path fill="none" stroke="#000000" d="M50,254C50,254,492.72283028718084,254,544.9286718469241,254" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj343)" stroke-dasharray="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="250.859375" y="269.5" width="221.21875" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="361.46875" y="279" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">6.提取表单文档并形成缩略图（）</tspan></text><path fill="none" stroke="#000000" d="M50,293C50,293,609.1134699126706,293,667.9459663805321,293" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj346)" stroke-dasharray="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="60" y="308.5" width="161.21875" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="140.609375" y="318" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">7.解析表单关键信息（）</tspan></text><path fill="none" stroke="#000000" d="M50,332C50,332,197.0341664548032,332,226.21843826333713,332" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj349)" stroke-dasharray="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="75" y="347.5" width="131.21875" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="140.609375" y="357" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">8.保存业务信息（）</tspan></text><path fill="none" stroke="#000000" d="M50,371C50,371,197.0341664548032,371,226.21843826333713,371" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj352)" stroke-dasharray="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="241.21875" y="386.5" width="161.21875" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="321.828125" y="396" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: 'Andale Mono', monospace; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">9.更新表单使用状态（）</tspan></text><path fill="none" stroke="#000000" d="M231.21875,410C231.21875,410,378.2529164548032,410,407.43718826333713,410" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj355)" stroke-dasharray="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path></svg></div>
<h2><a name="t5" target="_blank"></a>主要功能</h2>
<h3><a name="t6" target="_blank"></a>表单设计器功能</h3>
<ul>
<li>布局管理：增加/删除表单布局区块</li>
<li>编辑表单标题：</li>
<li>表单内容管理：在区块内按行管理，增加1行1栏、1行2栏、1行3栏、1行4栏，删除行</li>
<li>添加表单字段：定义表单字段名称、显示名称、数据i类型、验证等</li>
<li>表单样式管理：选择预设CSS样式</li>
<li>获取界面源码文档：</li>
<li>保存表单：保存表单文档到MongoDB数据库中</li>
<li>表单信息管理：发布表单到表单信息表中（MongoDB中的ID、时间、标题、创建人、状态、描述等）</li>
</ul>
<h3><a name="t7" target="_blank"></a>其他相关功能</h3>
<ul>
<li>解析表单关键字功能：解析按规范规则所定义的字段关键字，以及将来所提供统计数据接口的数据定于</li>
<li>生成表单缩略图：生产静态表单或图片</li>
<li>表单预览：预览所设计表单，可以与“生成表单缩略图”通用</li>
</ul>
<h2><a name="t8" target="_blank"></a>数据存储设计</h2>
<p>业务文档的数据一般情况下分为三部分：业务文档数据、意见数据和附件。三部分数据在本项目中保存在<a href="http://lib.csdn.net/base/mongodb" title="MongoDB知识库" target="_blank" style="color:#df3434; font-weight:bold;">MongoDB</a>数据中，表单文档和意见文档保存在collections集合中，其中附件保存的db.fs.files集合中，三部分数据以内嵌文档方式保存。 <br>
附近存储使用GridFS。GridFS是一种将大型文件存储在<a href="http://lib.csdn.net/base/mongodb" title="MongoDB知识库" target="_blank" style="color:#df3434; font-weight:bold;">mongodb</a>的文件规范。</p>
<h1><a name="t9" target="_blank"></a>Demo界面及功能</h1>
<h2><a name="t10" target="_blank"></a>表单设计器</h2>
<h3><a name="t11" target="_blank"></a>表单设计器功能界面整体原型</h3>
<p><img src="http://image108.360doc.com/DownloadImg/2017/07/2516/106687318_1" alt="主界面" title="" style="max-width: 650px;"></p>
<h3><a name="t12" target="_blank"></a>定义数据项目</h3>
<p><img src="http://image108.360doc.com/DownloadImg/2017/07/2516/106687318_2" alt="这里写图片描述" title="" style="max-width: 650px;"></p>
<h3><a name="t13" target="_blank"></a>表单字段属性定义</h3>
<p>属性类型：</p>
<ul>
<li>单行文本</li>
<li>多行文本</li>
<li>下拉列表</li>
<li>日期时间</li>
<li>复选控件</li>
<li>单选控件</li>
<li>表格控件</li>
</ul>
<p>格式化类型</p>
<ul>
<li>字符(abc)</li>
<li>数字(3.14)</li>
<li>电子邮件(admin@163.com)</li>
<li>网址(www.10010.com)</li>
</ul>
<blockquote>
<p>注：下拉列表数据内容，最好来自数据库事先定义。</p>
</blockquote>
<p>参考： <br>
<a href="http://blog.csdn.net/xiaoyw71/article/details/19618443" target="_blank">从原理分析审批流表单配置功能使用的问题</a> 肖永威 2014.2 <br>
<a href="http://blog.csdn.net/xiaoyw71/article/details/42145709" target="_blank">在BPM动态可配置表单中使用NoSQL技术可行性分析——通用流程化应用审批单设计思路（二）</a> 肖永威 2014.12 <br>
<a href="http://blog.csdn.net/xiaoyw71/article/details/42192895" target="_blank">用MongoDB数据库来管理办公系统中文档型的表单和信息——通用流程化应用审批单设计思路（二，续）</a> 肖永威 2015.1</p>
</td>
</tr>
</tbody>
<div></div></table>